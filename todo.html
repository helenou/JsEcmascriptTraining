<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>todo list</title>
    <link rel="stylesheet" href="./css/style.css" />
    <script>
        let tasks = [];

        function removeElement(index){
            tasks.splice(index, 1);
            refreshList();
        }

        function refreshList(){
            let html = "";
            for (let task of tasks){
                html += `<li>${task}</li>`;
            }

            document.querySelector('#list').innerHTML = html;

            let li = document.querySelectorAll('li');

            li.forEach(function(value, key, parent){
                value.addEventListener('click', function(){
                    removeElement(key);
                });
            });
        }

        window.addEventListener('DOMContentLoaded', function(){
            let input = document.querySelector('#task');
            let add = document.querySelector('#add');

            add.addEventListener('click', function(){
                tasks.push(input.value);
                refreshList();
            });

        });
    </script>
</head>
<body>
<h1>Todo List</h1>
<hr />
<nav>
    <a href="todo.html"> Version 1</a> |
    <a href="todov2.html"> Version 2</a> |
</nav>

<section class="row">

    <aside class="col-4">
        <ul id="list"></ul>
    </aside>
    <article class="col-8">

        <div>
            <input type="text" id="task" value="" placeholder="Entrer une tache" />
            <button id="add">Ajouter</button>
        </div>

    </article>
</section>


</body>
</html>
